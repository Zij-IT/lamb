f := fn() -> {
  a := 0;
  f2 := fn() -> {
    b := 1;
    f3 := fn() -> {
      c := 2;
      f4 := fn() -> {
        return [a,b,c];
      };
      f4()
    };
    f3()
  };
  f2()
};

assert_eq(f(), [0,1,2]);
